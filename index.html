<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Offline Cookie Website</title>
</head>
<body>
<h2>Offline Webiste</h2>
<script>
// Secret way to enter editor: Ctrl+Shift+E or long tap 5 seconds
let longPressTimer;
document.addEventListener('keydown', e => {
  if (e.ctrlKey && e.shiftKey && e.key === 'E') {
    e.preventDefault();
    showEditor();
  }
});
document.addEventListener('touchstart', () => {
  longPressTimer = setTimeout(showEditor, 5000);
});
document.addEventListener('touchend', () => clearTimeout(longPressTimer));

const COOKIE = 'REAL_OFFLINE_SITE';

function getCookie() {
  const c = document.cookie.split('; ').find(x => x.startsWith(COOKIE+'='));
  return c ? decodeURIComponent(c.split('=')[1]) : null;
}

function setCookie(html) {
  document.cookie = `${COOKIE}=${encodeURIComponent(html)};path=/;max-age=31536000`;
}

// SHOW EDITOR (only when you press the secret key)
function showEditor() {
  const saved = getCookie() || defaultSite;
  document.body.innerHTML = `
    <style>
      body {background:#000;color:#0f0;font-family:monospace;margin:0;padding:10px;}
      textarea {width:100%;height:80vh;background:#111;color:#0f0;border:1px solid #0f0;padding:10px;font-size:14px;}
      button {padding:15px 30px;font-size:18px;background:#0f0;color:#000;border:none;border-radius:8px;margin:10px;cursor:pointer;}
      #status {position:fixed;bottom:10px;right:10px;background:#000;color:#0f0;padding:8px;border:1px solid #0f0;border-radius:4px;}
    </style>
    <h2>Editor Mode (Ctrl+Shift+E to toggle)</h2>
    <textarea id="code">${saved.replace(/</g, '<')}</textarea><br>
    <button onclick="saveAndShow()">Save & Show Real Website</button>
    <div id="status">Edit your site → then click the button</div>
  `;
  window.saveAndShow = () => {
    const code = document.getElementById('code').value.trim();
    setCookie(code);
    location.reload();
  };
}

// DEFAULT beautiful starter website
const defaultSite = `Type Here...
`;

// MAIN LOGIC
const saved = getCookie();

if (saved && saved.includes('<html') && saved.length > 200) {
  // This renders YOUR real saved website instantly (even offline!)
  document.write(saved);
  document.close();
} else {
  // First time → force editor with default site
  setCookie(defaultSite);
  showEditor();
}
</script>

</body>
</html>
